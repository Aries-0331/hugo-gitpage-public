<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Go Basic - Interface as Parameter to Function - Aries notebook</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Aries" /><meta name="description" content="https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function
Go uses interfaces for generalization of types. So if you want a function that takes a specific interface you write
1 func MyFunction(t SomeInterface) {...} Every type that satisfies SomeInterface can be passed to MyFunction.
Now, SomeInterface can look like this:
1 2 3 type SomeInterface interface { SomeFunction() } To satisfy SomeInterface, the type implementing it must implement SomeFunction().
If you, however, require an empty interface (interface{}) the object does not need to implement any method to be passed to the function:" /><meta name="keywords" content="Aries, blog, hugo" />






<meta name="generator" content="Hugo 0.123.2 with theme even" />


<link rel="canonical" href="https://urchinzhou.com/post/go-basic---interface-as-parameter-to-function/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Go Basic - Interface as Parameter to Function" />
<meta property="og:description" content="https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function
Go uses interfaces for generalization of types. So if you want a function that takes a specific interface you write
1 func MyFunction(t SomeInterface) {...} Every type that satisfies SomeInterface can be passed to MyFunction.
Now, SomeInterface can look like this:
1 2 3 type SomeInterface interface { SomeFunction() } To satisfy SomeInterface, the type implementing it must implement SomeFunction().
If you, however, require an empty interface (interface{}) the object does not need to implement any method to be passed to the function:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://urchinzhou.com/post/go-basic---interface-as-parameter-to-function/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-06-29T17:50:27+08:00" />
<meta property="article:modified_time" content="2023-06-29T17:50:27+08:00" />

<meta itemprop="name" content="Go Basic - Interface as Parameter to Function">
<meta itemprop="description" content="https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function
Go uses interfaces for generalization of types. So if you want a function that takes a specific interface you write
1 func MyFunction(t SomeInterface) {...} Every type that satisfies SomeInterface can be passed to MyFunction.
Now, SomeInterface can look like this:
1 2 3 type SomeInterface interface { SomeFunction() } To satisfy SomeInterface, the type implementing it must implement SomeFunction().
If you, however, require an empty interface (interface{}) the object does not need to implement any method to be passed to the function:"><meta itemprop="datePublished" content="2023-06-29T17:50:27+08:00" />
<meta itemprop="dateModified" content="2023-06-29T17:50:27+08:00" />
<meta itemprop="wordCount" content="239">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Go Basic - Interface as Parameter to Function"/>
<meta name="twitter:description" content="https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function
Go uses interfaces for generalization of types. So if you want a function that takes a specific interface you write
1 func MyFunction(t SomeInterface) {...} Every type that satisfies SomeInterface can be passed to MyFunction.
Now, SomeInterface can look like this:
1 2 3 type SomeInterface interface { SomeFunction() } To satisfy SomeInterface, the type implementing it must implement SomeFunction().
If you, however, require an empty interface (interface{}) the object does not need to implement any method to be passed to the function:"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-XXXXXXXXX-X');
</script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Aries</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Aries</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Go Basic - Interface as Parameter to Function</h1>

      <div class="post-meta">
        <span class="post-time"> 2023-06-29 </span>
        <div class="post-category">
            <a href="/categories/go/"> go </a>
            </div>
        
      </div>
    </header>

    
    <div class="post-content">
      <blockquote>
<p><a href="https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function">https://stackoverflow.com/questions/20314604/go-syntax-and-interface-as-parameter-to-function</a></p>
</blockquote>
<p>Go uses interfaces for generalization of types. So if you want a function that takes a specific interface you write</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="nx">t</span> <span class="nx">SomeInterface</span><span class="p">)</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Every type that satisfies <code>SomeInterface</code> can be passed to <code>MyFunction</code>.</p>
<p>Now, <code>SomeInterface</code> can look like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">SomeInterface</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">SomeFunction</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>To satisfy <code>SomeInterface</code>, the type implementing it must implement <code>SomeFunction()</code>.</p>
<p>If you, however, require an empty interface (<code>interface{}</code>) the object does not need to implement any method to be passed to the function:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="nx">t</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>This function above will take every type as <a href="http://golang.org/ref/spec#Interface_types">all types implement the empty interface</a>.</p>
<h3 id="getting-the-type-back">Getting the type back</h3>
<p>Now that you can have every possible type, the question is how to get the type back that was actually put in before. The empty interface does not provide any methods, thus you can&rsquo;t call anything on such a value.</p>
<p>For this you need type assertions: let the runtime check whether there is type X in value Y and convert it to that type if so.</p>
<p>Example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="nx">t</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">v</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">t</span><span class="p">.(</span><span class="nx">SomeConcreteType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>In this example the input parameter <code>t</code> is asserted to be of type <code>SomeConcreteType</code>. If <code>t</code> is in fact of type <code>SomeConcreteType</code>, <code>v</code> will hold the instance of that type and <code>ok</code> will be true. Otherwise, <code>ok</code> will be false. See <a href="http://golang.org/ref/spec#Type_assertions">the spec on type assertions</a> for details.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/tcp/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">What happens when tcp listen to a port?</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/go-package---gorm/">
            <span class="next-text nav-default">Go Package - gorm</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:urchinzhou@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://twitter.com/AriesBlabla" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/Aries-0331" class="iconfont icon-github" title="github"></a>
  <a href="https://urchinzhou.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span><span>Aries</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXXX-X"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-XXXXXXXXX-X');
</script>








</body>
</html>
